(function(){(function(d){function k(a){if("undefined"!=typeof a.dataset)return a.dataset;var c={};d.each(a.attributes,function(a,e){null!==e.name.match(/^data-/)&&(c[e.name.replace(/^data-/,"")]=e.value)});return c}function l(a,c,f,e,b,h){f=("true"==a.secure?"https://":"http://")+"api.stackexchange.com/2.0"+f;e.key=a.key;e.site=c;e.filter=a.filter;d.ajax({url:f,data:e,dataType:"jsonp",success:function(a){"undefined"!=typeof a.error_message?h(a.error_message):b(a.items)}})}function m(a){var c='<div class="tags">';
d.each(a,function(a,e){c+="<span>"+e+"</span>"});return c+"</div>"}function j(a){return"undefined"!=typeof a.link?'<a href="'+a.link+'" class="user-link">by '+a.display_name+"</a>":'<span class="user-link">'+a.display_name+"</span>"}function n(a,c){var f=c.answers.sort(function(a,b){return b.score-a.score}),e={};d.each(f,function(a,b){e[b.answer_id]=b});var b=[];"all"==a.answers?b=f:"accepted"==a.answers?"undefined"!=typeof c.accepted_answer_id&&"undefined"!=typeof e[c.accepted_answer_id]?b.push(e[c.accepted_answer_id]):
b.push(f[0]):(f=a.answers.split(","),d.each(f,function(a,g){"undefined"!=typeof e[g]&&b.push(e[g])}));var h="";b.length?d.each(b,function(b,e){var c=h,d="";a.votes=="true"&&(d=d+('<div class="hr" /><a href="'+e.link+'" target="_blank" class="heading answer-count">'+e.score+" votes"+(e.is_accepted?' - <span class="accepted">Accepted</span>':"")+"</a>"));d=d+(j(e.owner)+e.body);h=c+d}):h+='<div class="hr" /><p class="tip">No answers matched the specified criteria.</p>';return h}function o(a,c){var f=
{};d.each(c,function(a,b){f[b.question_id]=b});d.each(a,function(a,b){var c=f[b.id],i=d(b.element);i.addClass("stacktack-container");i.css("width",b.width+(null!==b.width.toString().match(/^\d+$/)?"px":""));var g;g='<div class="branding">Stack<span>Tack</span></div>'+('<a href="'+c.link+'" target="_blank" class="heading">'+c.title+"</a>");"true"==b.question&&(g+=j(c.owner)+'<div class="hr" />'+c.body,"true"==b.tags&&(g+=m(c.tags)));"none"!=b.answers&&(g="undefined"!=typeof c.answers?g+n(b,c):g+'<div class="hr" /><p class="tip">This question does not have any answers.</p>');
i.html(g)})}d.fn.stacktack=function(a){var c=d.extend({},d.fn.stacktack.defaults,a),f={};this.each(function(){var a=d.extend({},c,k(this),{element:this});if("undefined"!=typeof a.id){var b=a.site.replace(/\.com$/,"");"undefined"==typeof f[b]&&(f[b]=[]);f[b].push(a)}});d.each(f,function(a,b){var f=[];d.each(b,function(a,b){f.push(b.id)});var i=d.unique(f).join(";");l(c,a,"/questions/"+i,{},function(a){o(b,a)},function(){})})};d.fn.stacktack.defaults={answers:"accepted",key:"CRspH1WAlZKCeCinkGOLHw((",
filter:"!-)dQB3E8g_ab",question:"true",secure:"false",site:"stackoverflow",tags:"true",votes:"true",width:"auto"}})(jQuery)})();